{
  "hash": "d91eba5c3580fa6ee0268ca223a28a0c",
  "result": {
    "markdown": "---\ntitle: \"Visualising categorical data\"\nsubtitle: \"<br><br> Data Science in a Box\"\nauthor: \"[datasciencebox.org](https://datasciencebox.org/)\"\noutput:\n  xaringan::moon_reader:\n    css: [\"../xaringan-themer.css\", \"../slides.css\"]\n    lib_dir: libs\n    nature:\n      ratio: \"16:9\"\n      highlightLines: true\n      highlightStyle: solarized-light\n      countIncrementalSlides: false\n---\n\n\n\n\nlayout: true\n  \n<div class=\"my-footer\">\n<span>\n<a href=\"https://datasciencebox.org\" target=\"_blank\">datasciencebox.org</a>\n</span>\n</div> \n\n---\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\nclass: middle\n\n# Recap\n\n\n---\n\n## Variables\n\n- **Numerical** variables can be classified as **continuous** or **discrete** based on whether or not the variable can take on an infinite number of values or only non-negative whole numbers, respectively.\n- If the variable is **categorical**, we can determine if it is **ordinal** based on whether or not the levels have a natural ordering.\n\n---\n\n\n### Data \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(openintro)\nloans <- loans_full_schema %>%\n  select(loan_amount, interest_rate, term, grade, \n         state, annual_income, homeownership, debt_to_income)\nglimpse(loans)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 10,000\nColumns: 8\n$ loan_amount    <int> 28000, 5000, 2000, 21600, 23000, 5000, 2…\n$ interest_rate  <dbl> 14.07, 12.61, 17.09, 6.72, 14.07, 6.72, …\n$ term           <dbl> 60, 36, 36, 36, 36, 36, 60, 60, 36, 36, …\n$ grade          <ord> C, C, D, A, C, A, C, B, C, A, C, B, C, B…\n$ state          <fct> NJ, HI, WI, PA, CA, KY, MI, AZ, NV, IL, …\n$ annual_income  <dbl> 90000, 40000, 40000, 30000, 35000, 34000…\n$ homeownership  <fct> MORTGAGE, RENT, RENT, RENT, RENT, OWN, M…\n$ debt_to_income <dbl> 18.01, 5.04, 21.15, 10.16, 57.96, 6.46, …\n```\n:::\n:::\n\n---\n\nclass: middle\n\n# Bar plot\n\n---\n\n\n## Bar plot\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(loans, aes(x = homeownership)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=60%}\n:::\n:::\n\n---\n\n## Segmented bar plot\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(loans, aes(x = homeownership, \n                  fill = grade)) + #<<\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-4-1.png){fig-align='center' width=60%}\n:::\n:::\n\n---\n\n\n## Segmented bar plot\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(loans, aes(x = homeownership, fill = grade)) +\n  geom_bar(position = \"fill\") #<<\n```\n\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-5-1.png){fig-align='center' width=60%}\n:::\n:::\n\n---\n\n.question[\nWhich bar plot is a more useful representation for visualizing the relationship between homeownership and grade?\n]\n\n.pull-left[\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=100%}\n:::\n:::\n]\n.pull-right[\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-7-1.png){fig-align='center' width=100%}\n:::\n:::\n]\n\n---\n\n\n## Customizing bar plots\n\n.panelset[\n.panel[.panel-name[Plot]\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=60%}\n:::\n:::\n\n]\n.panel[.panel-name[Code]\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(loans, aes(y = homeownership, #<<\n                  fill = grade)) +\n  geom_bar(position = \"fill\") +\n  labs( #<<\n    x = \"Proportion\", #<<\n    y = \"Homeownership\", #<<\n    fill = \"Grade\", #<<\n    title = \"Grades of Lending Club loans\", #<<\n    subtitle = \"and homeownership of lendee\" #<<\n  ) #<<\n```\n:::\n\n]\n]\n\n\n---\n\nclass: middle\n\n# Relationships between numerical and categorical variables\n\n---\n\n\n## Already talked about...\n\n- Colouring and faceting histograms and density plots\n- Side-by-side box plots\n\n\n---\n\n## Violin plots\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(loans, aes(x = homeownership, y = loan_amount)) +\n  geom_violin()\n```\n\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-9-1.png){fig-align='center' width=60%}\n:::\n:::\n\n---\n\n\n## Ridge plots\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(ggridges)\nggplot(loans, aes(x = loan_amount, y = grade, fill = grade, color = grade)) + \n  geom_density_ridges(alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](u2-d04-viz-cat_files/figure-html/unnamed-chunk-10-1.png){fig-align='center' width=60%}\n:::\n:::\n\n---\n",
    "supporting": [
      "u2-d04-viz-cat_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../../site_libs/font-awesome/css/all.css\" rel=\"stylesheet\" />\n<link href=\"../../../site_libs/font-awesome/css/v4-shims.css\" rel=\"stylesheet\" />\n<link href=\"../../../site_libs/panelset/panelset.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/panelset/panelset.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}