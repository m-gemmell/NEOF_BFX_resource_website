{
  "hash": "f378e8b0572b504be0b9bf394dff72f1",
  "result": {
    "markdown": "---\ntitle: \"Web scraping\"\nsubtitle: \"<br><br> Data Science in a Box\"\nauthor: \"[datasciencebox.org](https://datasciencebox.org/)\"\noutput:\n  xaringan::moon_reader:\n    css: [\"../xaringan-themer.css\", \"../slides.css\"]\n    lib_dir: libs\n    anchor_sections: FALSE\n    nature:\n      ratio: \"16:9\"\n      highlightLines: true\n      highlightStyle: solarized-light\n      countIncrementalSlides: false\n---\n\n\n\n\nlayout: true\n  \n<div class=\"my-footer\">\n<span>\n<a href=\"https://datasciencebox.org\" target=\"_blank\">datasciencebox.org</a>\n</span>\n</div> \n\n---\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\nclass: middle\n\n# Scraping the web\n\n\n---\n\n## Scraping the web: what? why?\n\n- Increasing amount of data is available on the web\n--\n\n- These data are provided in an unstructured format: you can always copy&paste, but it's time-consuming and prone to errors\n\n--\n- Web scraping is the process of extracting this information automatically and transform it into a structured dataset\n\n--\n- Two different scenarios:\n    - Screen scraping: extract data from source code of website, with html parser (easy) or regular expression matching (less easy).\n    - Web APIs (application programming interface): website offers a set of structured http requests that return JSON or XML files.\n\n---\n\n\nclass: middle\n\n# Web Scraping with rvest\n\n\n---\n\n## Hypertext Markup Language\n\n- Most of the data on the web is still largely available as HTML \n- It is structured (hierarchical / tree based), but it''s often not available in a form useful for analysis (flat / tidy).\n\n```html\n<html>\n  <head>\n    <title>This is a title</title>\n  </head>\n  <body>\n    <p align=\"center\">Hello world!</p>\n  </body>\n</html>\n```\n\n---\n\n\n## rvest\n\n.pull-left[\n- The **rvest** package makes basic processing and manipulation of HTML data straight forward\n- It's designed to work with pipelines built with `%>%`\n]\n.pull-right[\n\n::: {.cell layout-align=\"right\"}\n::: {.cell-output-display}\n![](img/rvest.png){fig-align='right' width=230}\n:::\n:::\n\n]\n\n\n---\n\n## Core rvest functions\n\n- `read_html`   - Read HTML data from a url or character string\n- `html_node `  - Select a specified node from HTML document\n- `html_nodes`  - Select specified nodes from HTML document\n- `html_table`  - Parse an HTML table into a data frame\n- `html_text`   - Extract tag pairs' content\n- `html_name`   - Extract tags' names\n- `html_attrs`  - Extract all of each tag's attributes\n- `html_attr`   - Extract tags' attribute value by name\n\n---\n\n\n## SelectorGadget\n\n.pull-left-narrow[\n- Open source tool that eases CSS selector generation and discovery\n- Easiest to use with the [Chrome Extension](https://chrome.google.com/webstore/detail/selectorgadget/mhjhnkcfbdhnjickkkdbjoemdmbfginb) \n- Find out more on the [SelectorGadget vignette](https://cran.r-project.org/web/packages/rvest/vignettes/selectorgadget.html)\n]\n.pull-right-wide[\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget.png){fig-align='center' width=75%}\n:::\n:::\n\n]\n\n\n---\n\n## Using the SelectorGadget\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget.gif){fig-align='center' width=80%}\n:::\n:::\n\n---\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget-1.png){fig-align='center' width=95%}\n:::\n:::\n\n---\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget-2.png){fig-align='center' width=95%}\n:::\n:::\n\n---\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget-3.png){fig-align='center' width=95%}\n:::\n:::\n\n---\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget-4.png){fig-align='center' width=95%}\n:::\n:::\n\n---\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget-5.png){fig-align='center' width=95%}\n:::\n:::\n\n---\n\n## Using the SelectorGadget\n\nThrough this process of selection and rejection, SelectorGadget helps you come up with the appropriate CSS selector for your needs\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/selector-gadget/selector-gadget.gif){fig-align='center' width=65%}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../../site_libs/font-awesome/css/all.css\" rel=\"stylesheet\" />\n<link href=\"../../../site_libs/font-awesome/css/v4-shims.css\" rel=\"stylesheet\" />\n<link href=\"../../../site_libs/panelset/panelset.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/panelset/panelset.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}